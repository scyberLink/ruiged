"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const SharedFetcher_1 = __importDefault(require("../common/SharedFetcher"));
const constants_1 = require("../common/constants");
const RestEndpoints_1 = require("../configs/RestEndpoints");
const ExtensionId_1 = __importDefault(require("./ExtensionId"));
const BaseExtension_1 = __importDefault(require("./BaseExtension"));
const customElementRegistration_1 = require("../customElementRegistration");
const FileManagement_1 = __importDefault(require("../common/FileManagement"));
const AppContainer_1 = __importDefault(require("../layers/view/application/components/base/AppContainer"));
const BaseComponent_1 = __importDefault(require("../layers/view/application/components/base/BaseComponent"));
const ParserContainer_1 = __importDefault(require("../layers/view/application/components/ParserContainer"));
const ActionBar_1 = __importDefault(require("../layers/view/application/components/actionbar/ActionBar"));
const ColorPalette_1 = __importDefault(require("../layers/view/application/components/colorpalette/ColorPalette"));
const ConsoleCanvas_1 = __importDefault(require("../layers/view/application/components/consolecanvas/ConsoleCanvas"));
const ContextMenu_1 = __importDefault(require("../layers/view/application/components/contextmenu/ContextMenu"));
const DrawingCanvas_1 = __importDefault(require("../layers/view/application/components/drawingcanvas/DrawingCanvas"));
const MenuBar_1 = __importDefault(require("../layers/view/application/components/menubar/MenuBar"));
const ObjectManagerSelector_1 = __importDefault(require("../layers/view/application/components/objectmanagerselector/ObjectManagerSelector"));
const HorizontalRuler_1 = __importDefault(require("../layers/view/application/components/rulers/horizontalruler/HorizontalRuler"));
const VerticalRuler_1 = __importDefault(require("../layers/view/application/components/rulers/verticalruler/VerticalRuler"));
const HorizontalScrollBar_1 = __importDefault(require("../layers/view/application/components/scrollbars/horizontalscrollbar/HorizontalScrollBar"));
const VerticalScrollBar_1 = __importDefault(require("../layers/view/application/components/scrollbars/verticalscrollbar/VerticalScrollBar"));
const DrawingToolBar_1 = __importDefault(require("../layers/view/application/components/sidebars/drawingtoolbar/DrawingToolBar"));
const DrawingToolbarItem_1 = __importDefault(require("../layers/view/application/components/sidebars/drawingtoolbar/DrawingToolbarItem"));
const LeftSideBar_1 = __importDefault(require("../layers/view/application/components/sidebars/leftsidebar/LeftSideBar"));
const StatusBar_1 = __importDefault(require("../layers/view/application/components/statusbar/StatusBar"));
const TabPane_1 = __importDefault(require("../layers/view/application/components/tabpane/TabPane"));
const ToolBar_1 = __importDefault(require("../layers/view/application/components/toolbar/ToolBar"));
class ExtensionLoader {
    constructor() {
        this.extensionFileManager = new FileManagement_1.default();
    }
    load(extension, appContainer) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.extensionFileManager.open();
            const { fileContent: code } = (yield this.extensionFileManager.getFile(`${extension.id}/extension.min.ruigem`, 'metas')) || {
                fileContent: null,
            };
            if (!code) {
                console.error(`Could not load extension: ${extension.id}`);
            }
            return this.executor(code, appContainer);
        });
    }
    getExtension(id, builtin = false) {
        return __awaiter(this, void 0, void 0, function* () {
            const extId = new ExtensionId_1.default(id);
            const res = (yield SharedFetcher_1.default.fetch(`${builtin ? RestEndpoints_1.BUILTIN_EXTENSION : RestEndpoints_1.EXTENSION}${extId.id}`));
            if (!res || !res.data || !res.data.status) {
                return null;
            }
            return res.data[constants_1.EXTENSION_SCRIPT];
        });
    }
    executor(code, appContainer) {
        const fn = new Function(constants_1.APPCONTAINER, 'BaseExtension', 'AppContainer', 'ActionBar', 'BaseComponent', 'ColorPalette', 'DrawingCanvas', 'DrawingToolBar', 'DrawingToolbarItem', 'HorizontalRuler', 'HorizontalScrollBar', 'MenuBar', 'ObjectManagerSelector', 'StatusBar', 'ToolBar', 'VerticalRuler', 'VerticalScrollBar', 'ConsoleCanvas', 'LeftSideBar', 'TabPane', 'ParserContainer', 'ContextMenu', 'registerElement', code);
        return fn(appContainer, BaseExtension_1.default, AppContainer_1.default, ActionBar_1.default, BaseComponent_1.default, ColorPalette_1.default, DrawingCanvas_1.default, DrawingToolBar_1.default, DrawingToolbarItem_1.default, HorizontalRuler_1.default, HorizontalScrollBar_1.default, MenuBar_1.default, ObjectManagerSelector_1.default, StatusBar_1.default, ToolBar_1.default, VerticalRuler_1.default, VerticalScrollBar_1.default, ConsoleCanvas_1.default, LeftSideBar_1.default, TabPane_1.default, ParserContainer_1.default, ContextMenu_1.default, customElementRegistration_1.registerElement);
    }
}
exports.default = ExtensionLoader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXh0ZW5zaW9uTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2V4dGVuc2lvbi9FeHRlbnNpb25Mb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0RUFBNkM7QUFFN0MsbURBQW9FO0FBQ3BFLDREQUF1RTtBQUV2RSxnRUFBdUM7QUFDdkMsb0VBQTJDO0FBRTNDLDRFQUE4RDtBQUM5RCw4RUFBcUQ7QUFDckQsMkdBQWtGO0FBQ2xGLDZHQUFvRjtBQUNwRiw0R0FBbUY7QUFDbkYsMEdBQWlGO0FBQ2pGLG1IQUEwRjtBQUMxRixzSEFBNkY7QUFDN0YsZ0hBQXVGO0FBQ3ZGLHNIQUE2RjtBQUM3RixvR0FBMkU7QUFDM0UsOElBQXFIO0FBQ3JILG1JQUEwRztBQUMxRyw2SEFBb0c7QUFDcEcsbUpBQTBIO0FBQzFILDZJQUFvSDtBQUNwSCxrSUFBeUc7QUFDekcsMElBQWlIO0FBQ2pILHlIQUFnRztBQUNoRywwR0FBaUY7QUFDakYsb0dBQTJFO0FBQzNFLG9HQUEyRTtBQUUzRSxNQUFNLGVBQWU7SUFBckI7UUFDVSx5QkFBb0IsR0FBRyxJQUFJLHdCQUFjLEVBQUUsQ0FBQTtJQWdGckQsQ0FBQztJQTlFTyxJQUFJLENBQUMsU0FBcUIsRUFBRSxZQUEyQjs7WUFDM0QsTUFBTSxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDdEMsTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FDcEUsR0FBRyxTQUFTLENBQUMsRUFBRSx1QkFBdUIsRUFDdEMsT0FBTyxDQUNSLENBQUMsSUFBSTtnQkFDSixXQUFXLEVBQUUsSUFBSTthQUNsQixDQUFBO1lBQ0QsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDVCxPQUFPLENBQUMsS0FBSyxDQUFDLDZCQUE2QixTQUFTLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTthQUMzRDtZQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUE7UUFDMUMsQ0FBQztLQUFBO0lBRUssWUFBWSxDQUFDLEVBQVUsRUFBRSxPQUFPLEdBQUcsS0FBSzs7WUFDNUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxxQkFBVyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQ2pDLE1BQU0sR0FBRyxHQUFlLENBQUMsTUFBTSx1QkFBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsaUNBQWlCLENBQUMsQ0FBQyxDQUFDLHlCQUFTLEdBQUcsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQWUsQ0FBQTtZQUVwSCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUN6QyxPQUFPLElBQUksQ0FBQTthQUNaO1lBRUQsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLDRCQUFnQixDQUFDLENBQUE7UUFDbkMsQ0FBQztLQUFBO0lBRU8sUUFBUSxDQUFDLElBQVksRUFBRSxZQUEyQjtRQUN4RCxNQUFNLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FDckIsd0JBQVksRUFDWixlQUFlLEVBQ2YsY0FBYyxFQUNkLFdBQVcsRUFDWCxlQUFlLEVBQ2YsY0FBYyxFQUNkLGVBQWUsRUFDZixnQkFBZ0IsRUFDaEIsb0JBQW9CLEVBQ3BCLGlCQUFpQixFQUNqQixxQkFBcUIsRUFDckIsU0FBUyxFQUNULHVCQUF1QixFQUN2QixXQUFXLEVBQ1gsU0FBUyxFQUNULGVBQWUsRUFDZixtQkFBbUIsRUFDbkIsZUFBZSxFQUNmLGFBQWEsRUFDYixTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixpQkFBaUIsRUFDakIsSUFBSSxDQUNMLENBQUE7UUFDRCxPQUFPLEVBQUUsQ0FDUCxZQUFZLEVBQ1osdUJBQWEsRUFDYixzQkFBWSxFQUNaLG1CQUFTLEVBQ1QsdUJBQWEsRUFDYixzQkFBWSxFQUNaLHVCQUFhLEVBQ2Isd0JBQWMsRUFDZCw0QkFBa0IsRUFDbEIseUJBQWUsRUFDZiw2QkFBbUIsRUFDbkIsaUJBQU8sRUFDUCwrQkFBcUIsRUFDckIsbUJBQVMsRUFDVCxpQkFBTyxFQUNQLHVCQUFhLEVBQ2IsMkJBQWlCLEVBQ2pCLHVCQUFhLEVBQ2IscUJBQVcsRUFDWCxpQkFBTyxFQUNQLHlCQUFlLEVBQ2YscUJBQVcsRUFDWCwyQ0FBZSxDQUNoQixDQUFBO0lBQ0gsQ0FBQztDQUNGO0FBRUQsa0JBQWUsZUFBZSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoZXIgZnJvbSAnLi4vY29tbW9uL1NoYXJlZEZldGNoZXInXG5pbXBvcnQgSUZldGNoRGF0YSBmcm9tICcuLi9jb21tb24vbW9kZWxzL0lGZXRjaERhdGEnXG5pbXBvcnQgeyBBUFBDT05UQUlORVIsIEVYVEVOU0lPTl9TQ1JJUFQgfSBmcm9tICcuLi9jb21tb24vY29uc3RhbnRzJ1xuaW1wb3J0IHsgQlVJTFRJTl9FWFRFTlNJT04sIEVYVEVOU0lPTiB9IGZyb20gJy4uL2NvbmZpZ3MvUmVzdEVuZHBvaW50cydcbmltcG9ydCBJQXBwQ29udGFpbmVyIGZyb20gJy4uL2xheWVycy92aWV3L2FwcGxpY2F0aW9uL2NvbXBvbmVudHMvYmFzZS9tb2RlbC9JQXBwQ29udGFpbmVyJ1xuaW1wb3J0IEV4dGVuc2lvbklkIGZyb20gJy4vRXh0ZW5zaW9uSWQnXG5pbXBvcnQgQmFzZUV4dGVuc2lvbiBmcm9tICcuL0Jhc2VFeHRlbnNpb24nXG5pbXBvcnQgSUV4dGVuc2lvbiBmcm9tICcuL0lFeHRlbnNpb24nXG5pbXBvcnQgeyByZWdpc3RlckVsZW1lbnQgfSBmcm9tICcuLi9jdXN0b21FbGVtZW50UmVnaXN0cmF0aW9uJ1xuaW1wb3J0IEZpbGVNYW5hZ2VtZW50IGZyb20gJy4uL2NvbW1vbi9GaWxlTWFuYWdlbWVudCdcbmltcG9ydCBBcHBDb250YWluZXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9iYXNlL0FwcENvbnRhaW5lcidcbmltcG9ydCBCYXNlQ29tcG9uZW50IGZyb20gJy4uL2xheWVycy92aWV3L2FwcGxpY2F0aW9uL2NvbXBvbmVudHMvYmFzZS9CYXNlQ29tcG9uZW50J1xuaW1wb3J0IFBhcnNlckNvbnRhaW5lciBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL1BhcnNlckNvbnRhaW5lcidcbmltcG9ydCBBY3Rpb25CYXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9hY3Rpb25iYXIvQWN0aW9uQmFyJ1xuaW1wb3J0IENvbG9yUGFsZXR0ZSBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL2NvbG9ycGFsZXR0ZS9Db2xvclBhbGV0dGUnXG5pbXBvcnQgQ29uc29sZUNhbnZhcyBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL2NvbnNvbGVjYW52YXMvQ29uc29sZUNhbnZhcydcbmltcG9ydCBDb250ZXh0TWVudSBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL2NvbnRleHRtZW51L0NvbnRleHRNZW51J1xuaW1wb3J0IERyYXdpbmdDYW52YXMgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9kcmF3aW5nY2FudmFzL0RyYXdpbmdDYW52YXMnXG5pbXBvcnQgTWVudUJhciBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL21lbnViYXIvTWVudUJhcidcbmltcG9ydCBPYmplY3RNYW5hZ2VyU2VsZWN0b3IgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9vYmplY3RtYW5hZ2Vyc2VsZWN0b3IvT2JqZWN0TWFuYWdlclNlbGVjdG9yJ1xuaW1wb3J0IEhvcml6b250YWxSdWxlciBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL3J1bGVycy9ob3Jpem9udGFscnVsZXIvSG9yaXpvbnRhbFJ1bGVyJ1xuaW1wb3J0IFZlcnRpY2FsUnVsZXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9ydWxlcnMvdmVydGljYWxydWxlci9WZXJ0aWNhbFJ1bGVyJ1xuaW1wb3J0IEhvcml6b250YWxTY3JvbGxCYXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9zY3JvbGxiYXJzL2hvcml6b250YWxzY3JvbGxiYXIvSG9yaXpvbnRhbFNjcm9sbEJhcidcbmltcG9ydCBWZXJ0aWNhbFNjcm9sbEJhciBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL3Njcm9sbGJhcnMvdmVydGljYWxzY3JvbGxiYXIvVmVydGljYWxTY3JvbGxCYXInXG5pbXBvcnQgRHJhd2luZ1Rvb2xCYXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9zaWRlYmFycy9kcmF3aW5ndG9vbGJhci9EcmF3aW5nVG9vbEJhcidcbmltcG9ydCBEcmF3aW5nVG9vbGJhckl0ZW0gZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9zaWRlYmFycy9kcmF3aW5ndG9vbGJhci9EcmF3aW5nVG9vbGJhckl0ZW0nXG5pbXBvcnQgTGVmdFNpZGVCYXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9zaWRlYmFycy9sZWZ0c2lkZWJhci9MZWZ0U2lkZUJhcidcbmltcG9ydCBTdGF0dXNCYXIgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy9zdGF0dXNiYXIvU3RhdHVzQmFyJ1xuaW1wb3J0IFRhYlBhbmUgZnJvbSAnLi4vbGF5ZXJzL3ZpZXcvYXBwbGljYXRpb24vY29tcG9uZW50cy90YWJwYW5lL1RhYlBhbmUnXG5pbXBvcnQgVG9vbEJhciBmcm9tICcuLi9sYXllcnMvdmlldy9hcHBsaWNhdGlvbi9jb21wb25lbnRzL3Rvb2xiYXIvVG9vbEJhcidcblxuY2xhc3MgRXh0ZW5zaW9uTG9hZGVyIHtcbiAgcHJpdmF0ZSBleHRlbnNpb25GaWxlTWFuYWdlciA9IG5ldyBGaWxlTWFuYWdlbWVudCgpXG5cbiAgYXN5bmMgbG9hZChleHRlbnNpb246IElFeHRlbnNpb24sIGFwcENvbnRhaW5lcjogSUFwcENvbnRhaW5lcik6IFByb21pc2U8QmFzZUV4dGVuc2lvbj4ge1xuICAgIGF3YWl0IHRoaXMuZXh0ZW5zaW9uRmlsZU1hbmFnZXIub3BlbigpXG4gICAgY29uc3QgeyBmaWxlQ29udGVudDogY29kZSB9ID0gKGF3YWl0IHRoaXMuZXh0ZW5zaW9uRmlsZU1hbmFnZXIuZ2V0RmlsZShcbiAgICAgIGAke2V4dGVuc2lvbi5pZH0vZXh0ZW5zaW9uLm1pbi5ydWlnZW1gLFxuICAgICAgJ21ldGFzJyxcbiAgICApKSB8fCB7XG4gICAgICBmaWxlQ29udGVudDogbnVsbCxcbiAgICB9XG4gICAgaWYgKCFjb2RlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgbG9hZCBleHRlbnNpb246ICR7ZXh0ZW5zaW9uLmlkfWApXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dG9yKGNvZGUsIGFwcENvbnRhaW5lcilcbiAgfVxuXG4gIGFzeW5jIGdldEV4dGVuc2lvbihpZDogc3RyaW5nLCBidWlsdGluID0gZmFsc2UpOiBQcm9taXNlPElFeHRlbnNpb24gfCBudWxsPiB7XG4gICAgY29uc3QgZXh0SWQgPSBuZXcgRXh0ZW5zaW9uSWQoaWQpXG4gICAgY29uc3QgcmVzOiBJRmV0Y2hEYXRhID0gKGF3YWl0IGZldGNoZXIuZmV0Y2goYCR7YnVpbHRpbiA/IEJVSUxUSU5fRVhURU5TSU9OIDogRVhURU5TSU9OfSR7ZXh0SWQuaWR9YCkpIGFzIElGZXRjaERhdGFcblxuICAgIGlmICghcmVzIHx8ICFyZXMuZGF0YSB8fCAhcmVzLmRhdGEuc3RhdHVzKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHJldHVybiByZXMuZGF0YVtFWFRFTlNJT05fU0NSSVBUXVxuICB9XG5cbiAgcHJpdmF0ZSBleGVjdXRvcihjb2RlOiBzdHJpbmcsIGFwcENvbnRhaW5lcjogSUFwcENvbnRhaW5lcik6IEJhc2VFeHRlbnNpb24ge1xuICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgQVBQQ09OVEFJTkVSLFxuICAgICAgJ0Jhc2VFeHRlbnNpb24nLFxuICAgICAgJ0FwcENvbnRhaW5lcicsXG4gICAgICAnQWN0aW9uQmFyJyxcbiAgICAgICdCYXNlQ29tcG9uZW50JyxcbiAgICAgICdDb2xvclBhbGV0dGUnLFxuICAgICAgJ0RyYXdpbmdDYW52YXMnLFxuICAgICAgJ0RyYXdpbmdUb29sQmFyJyxcbiAgICAgICdEcmF3aW5nVG9vbGJhckl0ZW0nLFxuICAgICAgJ0hvcml6b250YWxSdWxlcicsXG4gICAgICAnSG9yaXpvbnRhbFNjcm9sbEJhcicsXG4gICAgICAnTWVudUJhcicsXG4gICAgICAnT2JqZWN0TWFuYWdlclNlbGVjdG9yJyxcbiAgICAgICdTdGF0dXNCYXInLFxuICAgICAgJ1Rvb2xCYXInLFxuICAgICAgJ1ZlcnRpY2FsUnVsZXInLFxuICAgICAgJ1ZlcnRpY2FsU2Nyb2xsQmFyJyxcbiAgICAgICdDb25zb2xlQ2FudmFzJyxcbiAgICAgICdMZWZ0U2lkZUJhcicsXG4gICAgICAnVGFiUGFuZScsXG4gICAgICAnUGFyc2VyQ29udGFpbmVyJyxcbiAgICAgICdDb250ZXh0TWVudScsXG4gICAgICAncmVnaXN0ZXJFbGVtZW50JyxcbiAgICAgIGNvZGUsXG4gICAgKVxuICAgIHJldHVybiBmbihcbiAgICAgIGFwcENvbnRhaW5lcixcbiAgICAgIEJhc2VFeHRlbnNpb24sXG4gICAgICBBcHBDb250YWluZXIsXG4gICAgICBBY3Rpb25CYXIsXG4gICAgICBCYXNlQ29tcG9uZW50LFxuICAgICAgQ29sb3JQYWxldHRlLFxuICAgICAgRHJhd2luZ0NhbnZhcyxcbiAgICAgIERyYXdpbmdUb29sQmFyLFxuICAgICAgRHJhd2luZ1Rvb2xiYXJJdGVtLFxuICAgICAgSG9yaXpvbnRhbFJ1bGVyLFxuICAgICAgSG9yaXpvbnRhbFNjcm9sbEJhcixcbiAgICAgIE1lbnVCYXIsXG4gICAgICBPYmplY3RNYW5hZ2VyU2VsZWN0b3IsXG4gICAgICBTdGF0dXNCYXIsXG4gICAgICBUb29sQmFyLFxuICAgICAgVmVydGljYWxSdWxlcixcbiAgICAgIFZlcnRpY2FsU2Nyb2xsQmFyLFxuICAgICAgQ29uc29sZUNhbnZhcyxcbiAgICAgIExlZnRTaWRlQmFyLFxuICAgICAgVGFiUGFuZSxcbiAgICAgIFBhcnNlckNvbnRhaW5lcixcbiAgICAgIENvbnRleHRNZW51LFxuICAgICAgcmVnaXN0ZXJFbGVtZW50LFxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHRlbnNpb25Mb2FkZXJcbiJdfQ==